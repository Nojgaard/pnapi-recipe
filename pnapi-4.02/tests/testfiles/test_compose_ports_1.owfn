INTERFACE
  PORT remain
    INPUT
      rai1, rai2;
    OUTPUT
      rao1, rao2;
    SYNCHRONOUS
      ras1, ras2;

  PORT common_1
    INPUT
      ci1;
    SYNCHRONOUS
      cs1;

  PORT common_2
    OUTPUT
      co1;
    SYNCHRONOUS
      cs2;

  PORT common_3
    INPUT
      ci2;
    OUTPUT
      co2;

PLACE
  p0, p1, p2, p3, p4, p5, p6, p7;

INITIALMARKING
  p0;

FINALCONDITION
  (p6 = 1) AND ALL_OTHER_PLACES_EMPTY;

TRANSITION t1
  CONSUME p0;
  PRODUCE p1, rao1;

TRANSITION t2
  CONSUME p1, rai1;
  PRODUCE p2;

TRANSITION t3
  CONSUME p2;
  PRODUCE p3;
  SYNCHRONIZE ras1;

TRANSITION t4
  CONSUME p3, ci1;
  PRODUCE p4;

TRANSITION t5
  CONSUME p4;
  PRODUCE p5, co1;

TRANSITION t6
  CONSUME p5;
  PRODUCE p6;
  SYNCHRONIZE cs1;

TRANSITION t7
  CONSUME p5;
  PRODUCE p6;
  SYNCHRONIZE cs1;

TRANSITION t8
  CONSUME p5;
  PRODUCE p6;
  SYNCHRONIZE cs1;

TRANSITION t9
  CONSUME;
  PRODUCE;

